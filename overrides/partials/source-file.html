{% import "partials/language.html" as lang with context %}

<!-- Partially taken taken from
https://github.com/squidfunk/mkdocs-material/blob/master/src/partials/source-file.html -->

<hr />

<div class="md-source-file">

  <small>
    <!-- mkdocs-git-revision-date-localized-plugin -->
    {% if page.meta.git_revision_date_localized %}
    <span class="md-source-file__fact">
      <span class="md-icon">
        {% include ".icons/material/clock-edit-outline.svg" %}
      </span>
      Updated: {{ page.meta.git_revision_date_localized }}
    </span>
    {% if page.meta.git_creation_date_localized %}
    &nbsp;
    <span class="md-source-file__fact">
      <span class="md-icon">
        {% include ".icons/material/clock-plus-outline.svg" %}
      </span>
      Created: {{ page.meta.git_creation_date_localized }}
    </span>
    {% endif %}

    <!-- mkdocs-git-revision-date-plugin -->
    {% elif page.meta.revision_date %}
    <span class="md-icon">
      {% include ".icons/material/clock.svg" %}
    </span>
    {{ lang.t("source.file.date.updated") }}:
    {{ page.meta.revision_date }}
    {% endif %}
  </small>

</div>

<!-- Determine title -->
{% if page and page.meta and page.meta.title %}
{% set title = page.meta.title | urlencode %}
{% else %}
{% set title = page.title | urlencode %}
{% endif %}

<!-- Determine display title -->
{% if page and page.meta and page.meta.title %}
{% set display_title = page.meta.title %}
{% else %}
{% set display_title = page.title %}
{% endif %}

<!-- Extra the url of the current page -->
{% set url = "/" ~ page.url | urlencode %}

<!-- Request feedback about the content on the site, giving a custom URL to the GitHub issue tracker -->
<div class="md-source-file">

  <small>
    <span class="md-source-file__fact">
      <span class="md-icon">
        {% include ".icons/material/progress-question.svg" %}
      </span>
      <div class="footertext">
      Create a <a
        href="https://github.com/OS-Sketch/www.os-sketch.com/issues/new/?title=[Feedback]+{{title}}+-+{{url}}"
        target="_blank" and rel="noopener noreferrer">new
        issue</a> with share feedback on "{{ display_title }}"
      </div>
    </span>

  </small>

</div>

<!-- Encourage visiting another page if the content on this page is not interesting enough, heh heh. -->
<div class="md-source-file">

  <small>
    <span class="md-source-file__fact">
      <span class="md-icon">
        {% include ".icons/material/skip-next-circle-outline.svg" %}
      </span>
      <div class="footertext">
      Check out all the <a href="/tags/">exciting topics</a> covered on this site
      </div>
    </span>
  </small>

</div>

<div class="md-source-file">
  <small>
    <span class="md-source-file__fact">
      <span class="md-icon">
        {% include ".icons/material/account.svg" %}
      </span>
      <!-- Only display a single most recent author to preserve -->
      <!-- the responsive design on a single line on small-screen devices -->
      <div class="footertext">
        Recent Author:
        {% for user in committers %}
          {% if loop.first %}
            {{ user.name }} &nbsp;
          {% endif %}
        {% endfor %}
      </div>
    </span>
  </small>
</div>
